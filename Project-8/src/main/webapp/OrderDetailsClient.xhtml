<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Order Details</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
        <!--<link rel="stylesheet" href="../css/orderdetails.css"/>-->
<link rel="stylesheet" href="#{request.contextPath}/css/font-awesome/css/font-awesome.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/css/bootstrap.min_1.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/js/vendors/isotope/isotope.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/js/vendors/slick/slick.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/js/vendors/rs-plugin/css/settings.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/js/vendors/select/jquery.selectBoxIt.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/css/subscribe-better.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/../../../../../ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/ui-lightness/jquery-ui.css"/>     
        <link rel="stylesheet" href="#{request.contextPath}/plugin/owl-carousel/owl.carousel.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/plugin/owl-carousel/owl.theme.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/css/style.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/css/Product.css" />
        <style>
            body {
                color: #000;
                overflow-x: hidden;
                height: 100%;
                background-color: #D5DADD;
                background-repeat: no-repeat;
            }

            .card {
                z-index: 0;
                background-color: #eceff1;
                padding-bottom: 20px;
                margin-top: 90px;
                margin-bottom: 90px;
                border-radius: 10px;
            }

            .top {
                padding-top: 40px;
                padding-left: 13% !important;
                padding-right: 13% !important;
            }

            #progressbar {
                display: flex; /* Use flexbox for horizontal alignment */
                justify-content: space-between; /* Distribute space between items */
                padding-left: 0; /* Remove default padding */
                margin-top: 30px; /* Add top margin */
                margin-bottom: 30px; /* Add bottom margin */
                list-style-type: none; /* Remove default list styling */
                position: relative; /* Ensure the pseudo-element positions correctly */
            }

            #progressbar li {
                list-style-type: none;
                font-size: 13px;
                flex: 1; /* Make all items take up equal space */
                position: relative;
                font-weight: 400;
                text-align: center; /* Center align the text inside the li */
            }

            #progressbar li:before {
                width: 40px;
                height: 40px;
                line-height: 45px;
                display: block;
                font-size: 20px;
                background: #c5cae9;
                border-radius: 50%;
                margin: auto;
                padding: 0;
                content: attr(data-content); /* Display the content from the li element */
            }

            #progressbar li:after {
                content: '';
                width: 100%;
                height: 2px; /* Adjust the height of the line */
                background: #c5cae9; /* Line color */
                position: absolute;
                left: 50%;
                top: 20px; /* Adjust to center the line vertically */
                z-index: -1; /* Place the line behind the content */
            }

            #progressbar li:first-child:after {
                left: 50%; /* Start the line from the center of the first li */
                width: 50%; /* Adjust the width for the first li */
            }

            #progressbar li:last-child:after {
                width: 50%; /* Adjust the width for the last li */
                left: 0; /* Adjust the position for the last li */
            }

            #progressbar li.active:before {
                background: #651fff; /* Active step background color */
                content: "\f00c"; /* FontAwesome check icon for active steps */
                color: #fff; /* Font color */
            }

            .icon {
                width: 60px;
                height: 60px;
                margin-right: 15px;
            }

            .icon-content {
                padding-bottom: 20px;
            }

            @media screen and (max-width: 992px) {
                .icon-content {
                    width: 50%;
                }
            }
        </style>
    </h:head>
    <h:body>
        
        
<ui:insert name="header">
            <ui:include src="./HeaderPage.xhtml"></ui:include>
        </ui:insert>

        <div class="container-fluid my-5 d-sm-flex justify-content-center">
            <div class="card px-2">
                <div class="card-header bg-white">
                    <div class="row justify-content-between">
                        <div class="col">
                            <p class="text-muted">Order ID <span class="font-weight-bold text-dark">#{ClientBean.orderDetailsTB.orderID.orderID}</span></p> 
                            <p class="text-muted">Placed On <span class="font-weight-bold text-dark">#{ClientBean.orderDetailsTB.orderdate}</span></p>
                        </div>
                        <div class="flex-col my-auto">
                            <h6 class="ml-auto mr-3">
                                <a href="#">View Details</a>
                            </h6>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="media flex-column flex-sm-row">
                        <div class="media-body">
                            <h5 class="bold">#{ClientBean.orderDetailsTB.productID.productname}</h5>
                            <p class="text-muted">Qt: #{ClientBean.orderDetailsTB.quantity} Pair</p>
                            <h4 class="mt-3 mb-4 bold">&#x20B9; #{ClientBean.orderDetailsTB.productID.productprice} <span class="small text-muted">via </span></h4>
                            <p class="text-muted">Tracking Status on: <span class="Today">11:30pm, Today</span></p>
                            <button type="button" class="btn btn-outline-primary d-flex">Reached Hub, Delhi</button>
                        </div>
                        <img class="align-self-center img-fluid" src="./images/#{ClientBean.orderDetailsTB.productID.productimage}" width="180" height="180"/>
                    </div>
                </div>
                <div class="card-footer bg-white px-sm-3 pt-sm-4 px-0 ">
                    <div class="row text-center d-flex" style="justify-content: space-evenly; align-items: center; " >
                        <h:form>
                            <div class="col my-auto g-3 d-flex align-items-center justify-content-evenly">
                                <h:commandButton value="BILL" class="btn btn-primary" action="#{ClientBean.getBill()}"></h:commandButton>
                      
                            <h:commandButton value="BACK" action="DisplayOrder.jsf" class="btn btn-primary"></h:commandButton></div>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>

        <div class="container px-1 px-md-4 py-5 mx-auto" style="margin-top: -220px">
            <div class="card">
                <div class="row d-flex justify-content-between px-3 top">
                    <div class="d-flex">
                        <h5>ORDER <span class="text-primary font-weight-bold">#{ClientBean.orderDetailsTB.orderID.orderID}</span></h5>
                    </div>
                    <div class="d-flex flex-column text-sm-right">
                        <p class="mb-0">Expected Arrival <span>01/12/19</span></p>
                        <p>USPS <span class="font-weight-bold">234094567242423422898</span></p>
                    </div>
                </div> <!-- Add class 'active' to progress -->
                <div class="row justify-content-between top">
                    <div class="row d-flex icon-content" > 
                        <div class="d-flex flex-row" >
                            <ul id="progressbar" class="text-center" style="width: 800px;">
                                <ui:repeat value="#{ClientBean.getCotbs(7485)}" var="track" varStatus="status">           
                                    <li class="step0 active">#{track.stageID.stagename}</li>
                                </ui:repeat>
                                <ui:repeat value="#{ClientBean.cst}" var="stage" varStatus="status">   
                                    <h:panelGroup rendered="#{stage.priority > ClientBean.maxPriorityOfTracking}">
                                        <li class="step0">#{stage.stagename}</li>
                                    </h:panelGroup>
                                </ui:repeat>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </h:body>
</html>